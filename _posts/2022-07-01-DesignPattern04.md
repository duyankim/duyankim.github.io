---
layout: post
author: "Yan"
catalog: true
subtitle: "HeadFirst Design Patternì„ ì½ê³ "
header-img: "img/header/none4.jpg"
title: "Gof Design Pattern - í…œí”Œë¦¿ ë©”ì†Œë“œ íŒ¨í„´"
date: 2022-07-01 23:15:08 +0000
categories:
  - DesignPattern
tags:
  - ë””ìì¸íŒ¨í„´
  - Gof
  - í…œí”Œë¦¿ ë©”ì†Œë“œ íŒ¨í„´
comments: true
---

# âœï¸ í…œí”Œë¦¿ ë©”ì†Œë“œ íŒ¨í„´ Template Method Pattern

**í…œí”Œë¦¿ ë©”ì†Œë“œ íŒ¨í„´** : ì•Œê³ ë¦¬ì¦˜ì˜ ê³¨ê²©ì„ ì •ì˜í•œë‹¤. ì•Œê³ ë¦¬ì¦˜ì˜ ì¼ë¶€ ë‹¨ê³„ë¥¼ ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ êµ¬í˜„í•  ìˆ˜ ìˆìœ¼ë©°, ì•Œê³ ë¦¬ì¦˜ì˜ êµ¬ì¡°ëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€í•˜ë©´ì„œ ì•Œê³ ë¦¬ì¦˜ì˜ íŠ¹ì • ë‹¨ê³„ë¥¼ ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ ì¬ì •ì˜í•  ìˆ˜ë„ ìˆë‹¤.

![template method pattern](https://upload.wikimedia.org/wikipedia/commons/thumb/5/52/Template_Method_UML.svg/600px-Template_Method_UML.svg.png)

- ì•Œê³ ë¦¬ì¦˜ì˜ í‹€(í…œí”Œë¦¿)ì„ ë§Œë“¤ê³ , ê·¸ í´ë˜ìŠ¤ì—ì„œ ì•Œê³ ë¦¬ì¦˜ì„ ë…ì í•˜ì—¬ ì‘ì—…ì„ ì²˜ë¦¬í•œë‹¤.
- í…œí”Œë¦¿ì˜ ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ ì½”ë“œë¥¼ ì¬ì‚¬ìš©í•  ìˆ˜ ì‡ë‹¤.
- ì•Œê³ ë¦¬ì¦˜ì´ í•œ êµ°ë° ëª¨ì—¬ ìˆìœ¼ë¯€ë¡œ í•œ ë¶€ë¶„ë§Œ ê³ ì¹˜ë©´ ëœë‹¤.
- í…œí”Œë¦¿ í´ë˜ìŠ¤ì— ì•Œê³ ë¦¬ì¦˜ ì§€ì‹ì´ ì§‘ì¤‘ë˜ì–´ ìˆìœ¼ë©° ì¼ë¶€ êµ¬í˜„ë§Œ ì„œë¸Œí´ë˜ìŠ¤ì— ì˜ì¡´í•œë‹¤.

## â˜•ï¸ğŸ«– ì»¤í”¼ì™€ í™ì°¨ë¥¼ ë§Œë“¤ ë•Œ ê³µí†µëœ ì œì¡°ë²•ì„ ë½‘ì•„ ì¶”ìƒí™”í•˜ê¸°

#### 1. ë¨¼ì €, ì»¤í”¼ë¥¼ ë§Œë“œëŠ” ë°©ë²•ê³¼ í™ì°¨ë¥¼ ë§Œë“¤ ë•Œ ê²¹ì¹˜ëŠ” ì œì¡°ë²•ì„ ì¶”ë ¤ë³¸ë‹¤.

1. ë¬¼ì„ ë“ì¸ë‹¤. â†’ ë² ì´ìŠ¤ í´ë˜ìŠ¤ì— ì¶”ìƒí™”
2. ëœ¨ê±°ìš´ ë¬¼ì„ ì‚¬ìš©í•´ì„œ ì»¤í”¼ ë˜ëŠ” ì°»ìì„ ìš°ë ¤ë‚¸ë‹¤. â†’ ì»¤í”¼ or ì°»ìì˜ ì°¨ì´
3. ë§Œë“¤ì–´ì§„ ìŒë£Œë¥¼ ì»µì— ë”°ë¥¸ë‹¤. â†’ ë² ì´ìŠ¤ í´ë˜ìŠ¤ì— ì¶”ìƒí™”
4. ê° ìŒë£Œì— ë§ëŠ” ì²¨ê°€ë¬¼ì„ ì¶”ê°€í•œë‹¤. â†’ ì„¤íƒ•/ìš°ìœ  or ë ˆëª¬ì˜ ì°¨ì´

#### 2. ìœ„ì˜ 4 ìŠ¤í…ì˜ ì œì¡°ë²•ì„ ë©”ì†Œë“œë¡œ í‘œí˜„í•´ë³¸ë‹¤.

```java
void prepareRecipe() {
  boilWater();
  brew();
  pourInCup();
  addCondiments();
}
```
`prepareRecipe()`ê°€ í…œí”Œë¦¿ ë©”ì†Œë“œë‹¤.  
ì¹´í˜ì¸ ìŒë£Œë¥¼ ë§Œë“œëŠ” ì•Œê³ ë¦¬ì¦˜ í…œí”Œë¦¿ ì—­í• ì„ í•œë‹¤.

#### 3. CaffeinBeverage ìŠˆí¼ í´ë˜ìŠ¤ì—ì„œ ì œì¡°ë²• ì‚¬ìš©í•˜ê¸°

CaffeinBeverageëŠ” ì¶”ìƒ í´ë˜ìŠ¤ë‹¤.

```java
public abstract class CaffeinBeverage {

  final void prepareRecipe() {
    boilWater();
    brew();
    pourInCup();
    addCondiments();
  }

  abstract void brew();

  abstract void addCondiments();

  void boilWater() {
    System.out.println("ë¬¼ ë“ì´ëŠ” ì¤‘");
  }

  void pourInCup() {
    System.out.println("ì»µì— ë”°ë¥´ëŠ” ì¤‘");
  }
} 
```

ğŸ’¡ `prepareRecipe()`ê°€ **final**ì¸ ì´ìœ   

- ì„œë¸Œ í´ë˜ìŠ¤ê°€ ì´ ë©”ì†Œë“œë¥¼ ì•„ë¬´ë ‡ê²Œë‚˜ ì˜¤ë²„ë¼ì´ë“œ í•˜ì§€ ëª»í•˜ê²Œ í•˜ê¸° ìœ„í•¨.


ì»¤í”¼ì™€ ì°¨ í´ë˜ìŠ¤ëŠ” CaffeinBeverageë¥¼ `extends`í•˜ê³ , `brew()`, `addCondiments()`ë¥¼ ì •ì˜í•˜ì—¬ ì‚¬ìš©í•œë‹¤.  
ê³ ë¡œ, `boilWater()`, `pourInCup()`ëŠ” ë² ì´ìŠ¤ í´ë˜ìŠ¤ì— ì¼ë°˜í™” ë˜ì—ˆê³ ,  
`brew()`, `addCondiments()`ëŠ” ì„œë¸Œí´ë˜ìŠ¤ì— ì˜ì¡´í•œë‹¤.  

> í…œí”Œë¦¿ ë©”ì†Œë“œëŠ” ì•Œê³ ë¦¬ì¦˜ì˜ ê° ë‹¨ê³„ë¥¼ ì •ì˜í•˜ë©°, ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ ì¼ë¶€ ë‹¨ê³„ë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆë„ë¡ ìœ ë„í•œë‹¤.


## hook ë©”ì†Œë“œ ë§Œë“¤ê¸°

### hook ë©”ì†Œë“œ  
- ì¶”ìƒ í´ë˜ìŠ¤ì—ì„œ ì„ ì–¸, í•„ìš”í•˜ë‹¤ë©´ ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ í™•ì¥í•  ìˆ˜ ìˆëŠ” ê¸°ë³¸ì ì¸ í–‰ë™ì„ ì œê³µ
- ê¸°ë³¸ì ìœ¼ë¡œëŠ” ì•„ë¬´ ì½”ë“œë„ ë“¤ì–´ìˆì§€ ì•Šì€ ë©”ì†Œë“œ
- ì•Œê³ ë¦¬ì¦˜ì—ì„œ í•„ìˆ˜ì ì´ì§€ ì•Šì€ ë¶€ë¶„ì„ ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ êµ¬í˜„í•˜ë„ë¡ ë§Œë“¤ê³  ì‹¶ì„ ë•Œ í›„í¬ë¥¼ ì‚¬ìš©

#### ì¶”ìƒë©”ì†Œë“œì™€ì˜ ì°¨ì´
- ì„œë¸Œ í´ë˜ìŠ¤ê°€ **ì•Œê³ ë¦¬ì¦˜ì˜ íŠ¹ì • ë‹¨ê³„ë¥¼ ì œê³µí•´ì•¼ë§Œ í•œë‹¤ë©´** `ì¶”ìƒë©”ì†Œë“œ`ë¥¼ ì“´ë‹¤. 
- **ì•Œê³ ë¦¬ì¦˜ì˜ íŠ¹ì • ë‹¨ê³„ê°€ ì„ íƒì ìœ¼ë¡œ ì ìš©ëœë‹¤ë©´** `í›„í¬`ë¥¼ ì“°ë©´ ëœë‹¤.

## â˜ï¸ í• ë¦¬ìš°ë“œ ì›ì¹™
> í• ë¦¬ìš°ë“œ ì›ì¹™ : (ê³ ìˆ˜ì¤€ ìš”ì†Œê°€ ì €ìˆ˜ì¤€ ìš”ì†Œì—ê²Œ) ë¨¼ì € ì—°ë½í•˜ì§€ ë§ˆì„¸ìš”. ì €í¬ê°€ ì—°ë½ë“œë¦¬ê² ìŠµë‹ˆë‹¤.

- í• ë¦¬ìš°ë“œ ì›ì¹™ì„ ì‚¬ìš©í•˜ëŠ” ì´ìœ  : **ì˜ì¡´ì„± ë¶€íŒ¨ ë°©ì§€**ë¥¼ ìœ„í•´ì„œ
  - ì˜ì¡´ì„± ë¶€íŒ¨ : ì˜ì¡´ì„±ì´ ë³µì¡í•˜ê²Œ ê¼¬ì—¬ìˆëŠ” ìƒí™©.
- í• ë¦¬ìš°ë“œ ì›ì¹™ì„ ì‚¬ìš©í•˜ë©´, `ì €ìˆ˜ì¤€ êµ¬ì„± ìš”ì†Œ`ê°€ ì‹œìŠ¤í…œì— ì ‘ì†í•  ìˆ˜ëŠ” ìˆì§€ë§Œ, ì–¸ì œ ì–´ë–»ê²Œ ê·¸ êµ¬ì„± ìš”ì†Œë¥¼ ì‚¬ìš©í• ì§€ëŠ” `ê³ ìˆ˜ì¤€ êµ¬ì„± ìš”ì†Œ`ê°€ ê²°ì •í•œë‹¤.
- ì €ìˆ˜ì¤€ êµ¬ì„± ìš”ì†Œì™€ ê³ ìˆ˜ì¤€ ê³„ì¸µ ê°„ ì˜ì¡´ì„ ì—†ì• ë„ë¡ í”„ë ˆì„ì›Œí¬ë‚˜ êµ¬ì„± ìš”ì†Œë¥¼ êµ¬ì¶•í•˜ëŠ” ê¸°ë²•

## ğŸ£ ìë°” API ì† í…œí”Œë¦¿ ë©”ì†Œë“œ íŒ¨í„´

### Arrays.sort() ë©”ì†Œë“œ

```java
public static void sort(Object[] a) {
  Object aux[] = (Object[])a.clone();
  mergeSort(aux, a, 0, a.length, 0);
}

private static void mergeSort(Object src[], Object dest[], int low, int high, int off) {
  for (int i = low; i < high; i++) {
    for (int j = i; j > low && 
      ((Comparable)dest[j-1]).compareTo((Comparable)dest[j]) > 0; j--) {
        swap(dest, j, j-1);
      }
  }
}
```

ì˜¤ë¦¬ì˜ í¬ê³  ì‘ìŒì„ ë¹„êµí•˜ëŠ” ìƒ˜í”Œ ì½”ë“œ ì‘ì„±í•´ë³´ê¸°

```java
public class Duck implements Comparable<Duck> {
  String name;
  int weight;

  public Duck(Sring name, int weight) {
    this.name = name;
    this.weight = weight;
  }

  public String toString() {
    return name + " ì²´ì¤‘: " + weight;
  }

  public int compareTo(Duck otherDuck) {
    if (this.weight < otherDuck.weight) {
      return -1;
    } else if (this.weight == otherDuck.weight) {
      return 0;
    } else {
      return 1;
    }
  }
}
```


## ğŸ² í…œí”Œë¦¿ ë©”ì†Œë“œ íŒ¨í„´ QUIZ

```
1.   
ì „ëµ íŒ¨í„´ê³¼ í…œí”Œë¦¿ ë©”ì†Œë“œ íŒ¨í„´ì€ ì•Œê³ ë¦¬ì¦˜ì„ ìº¡ìŠí™”í•˜ëŠ” ê³µí†µì ì´ ìˆë‹¤.
ì „ëµ íŒ¨í„´ê³¼ í…œí”Œë¦¿ ë©”ì†Œë“œì˜ ì°¨ì´ì ì€?
```
ì „ëµíŒ¨í„´ì€ â—»ï¸â—»ï¸ì„ ì‚¬ìš©í•˜ê³ , í…œí”Œë¦¿ ë©”ì†Œë“œ íŒ¨í„´ì€ â—»ï¸â—»ï¸ì„ ì‚¬ìš©í•œë‹¤.
> (1) ìƒì† 
> (2) êµ¬ìƒ

```
2.  
í• ë¦¬ìš°ë“œ ì›ì¹™ì— ì˜í•˜ë©´, ì €ìˆ˜ì¤€ ëª¨ë“ˆì„ ì–¸ì œ ì–´ë–»ê²Œ í˜¸ì¶œí• ì§€ëŠ” â—»ï¸â—»ï¸â—»ï¸ ëª¨ë“ˆì—ì„œ ê²°ì •í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.
```
> ê³ ìˆ˜ì¤€

```
3.   
(1) â—»ï¸â—»ï¸â—»ï¸ â—»ï¸â—»ï¸â—»ï¸ â—»ï¸â—»ï¸ : ì•Œê³ ë¦¬ì¦˜ì˜ ì–´ë–¤ ë‹¨ê³„ë¥¼ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì„ ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ ê²°ì •í•˜ëŠ” íŒ¨í„´  
(2) â—»ï¸â—»ï¸ â—»ï¸â—»ï¸ : ë°”ê¿” ì“¸ ìˆ˜ ìˆëŠ” í–‰ë™ì„ ìº¡ìŠí™”í•˜ê³ , ì–´ë–¤ í–‰ë™ì„ ì‚¬ìš©í• ì§€ëŠ” ì„œë¸Œí´ë˜ìŠ¤ì— ë§¡ê¸°ëŠ” íŒ¨í„´  
(3) â—»ï¸â—»ï¸â—»ï¸ â—»ï¸â—»ï¸â—»ï¸ â—»ï¸â—»ï¸ : êµ¬ìƒ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±ì„ ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ ê²°ì •
```
> (1) í…œí”Œë¦¿ ë©”ì†Œë“œ íŒ¨í„´
> (2) ì „ëµ íŒ¨í„´
> (3) íŒ©í† ë¦¬ ë©”ì†Œë“œ íŒ¨í„´

###### reference

> HeadFirst Design Pattern   